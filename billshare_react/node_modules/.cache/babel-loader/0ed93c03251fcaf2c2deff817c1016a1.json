{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSpaceUntilMaxLength = getSpaceUntilMaxLength;\n\nvar _isElementType = require(\"../misc/isElementType\");\n\nvar _getValue = require(\"./getValue\");\n\nvar maxLengthSupportedTypes;\n\n(function (maxLengthSupportedTypes) {\n  maxLengthSupportedTypes[\"email\"] = \"email\";\n  maxLengthSupportedTypes[\"password\"] = \"password\";\n  maxLengthSupportedTypes[\"search\"] = \"search\";\n  maxLengthSupportedTypes[\"telephone\"] = \"telephone\";\n  maxLengthSupportedTypes[\"text\"] = \"text\";\n  maxLengthSupportedTypes[\"url\"] = \"url\";\n})(maxLengthSupportedTypes || (maxLengthSupportedTypes = {}));\n\nfunction getSpaceUntilMaxLength(element) {\n  const value = (0, _getValue.getValue)(element);\n  /* istanbul ignore if */\n\n  if (value === null) {\n    return undefined;\n  }\n\n  const maxLength = getSanitizedMaxLength(element);\n  return maxLength ? maxLength - value.length : undefined;\n} // can't use .maxLength property because of a jsdom bug:\n// https://github.com/jsdom/jsdom/issues/2927\n\n\nfunction getSanitizedMaxLength(element) {\n  var _element$getAttribute;\n\n  if (!supportsMaxLength(element)) {\n    return undefined;\n  }\n\n  const attr = (_element$getAttribute = element.getAttribute('maxlength')) != null ? _element$getAttribute : '';\n  return /^\\d+$/.test(attr) && Number(attr) >= 0 ? Number(attr) : undefined;\n}\n\nfunction supportsMaxLength(element) {\n  return (0, _isElementType.isElementType)(element, 'textarea') || (0, _isElementType.isElementType)(element, 'input') && Boolean(maxLengthSupportedTypes[element.type]);\n}","map":{"version":3,"sources":["/Users/yuning/Documents/GitHub/BillShare/billshare_react/node_modules/@testing-library/user-event/dist/utils/edit/maxLength.js"],"names":["Object","defineProperty","exports","value","getSpaceUntilMaxLength","_isElementType","require","_getValue","maxLengthSupportedTypes","element","getValue","undefined","maxLength","getSanitizedMaxLength","length","_element$getAttribute","supportsMaxLength","attr","getAttribute","test","Number","isElementType","Boolean","type"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,sBAAR,GAAiCA,sBAAjC;;AAEA,IAAIC,cAAc,GAAGC,OAAO,CAAC,uBAAD,CAA5B;;AAEA,IAAIC,SAAS,GAAGD,OAAO,CAAC,YAAD,CAAvB;;AAEA,IAAIE,uBAAJ;;AAEA,CAAC,UAAUA,uBAAV,EAAmC;AAClCA,EAAAA,uBAAuB,CAAC,OAAD,CAAvB,GAAmC,OAAnC;AACAA,EAAAA,uBAAuB,CAAC,UAAD,CAAvB,GAAsC,UAAtC;AACAA,EAAAA,uBAAuB,CAAC,QAAD,CAAvB,GAAoC,QAApC;AACAA,EAAAA,uBAAuB,CAAC,WAAD,CAAvB,GAAuC,WAAvC;AACAA,EAAAA,uBAAuB,CAAC,MAAD,CAAvB,GAAkC,MAAlC;AACAA,EAAAA,uBAAuB,CAAC,KAAD,CAAvB,GAAiC,KAAjC;AACD,CAPD,EAOGA,uBAAuB,KAAKA,uBAAuB,GAAG,EAA/B,CAP1B;;AASA,SAASJ,sBAAT,CAAgCK,OAAhC,EAAyC;AACvC,QAAMN,KAAK,GAAG,CAAC,GAAGI,SAAS,CAACG,QAAd,EAAwBD,OAAxB,CAAd;AACA;;AAEA,MAAIN,KAAK,KAAK,IAAd,EAAoB;AAClB,WAAOQ,SAAP;AACD;;AAED,QAAMC,SAAS,GAAGC,qBAAqB,CAACJ,OAAD,CAAvC;AACA,SAAOG,SAAS,GAAGA,SAAS,GAAGT,KAAK,CAACW,MAArB,GAA8BH,SAA9C;AACD,C,CAAC;AACF;;;AAGA,SAASE,qBAAT,CAA+BJ,OAA/B,EAAwC;AACtC,MAAIM,qBAAJ;;AAEA,MAAI,CAACC,iBAAiB,CAACP,OAAD,CAAtB,EAAiC;AAC/B,WAAOE,SAAP;AACD;;AAED,QAAMM,IAAI,GAAG,CAACF,qBAAqB,GAAGN,OAAO,CAACS,YAAR,CAAqB,WAArB,CAAzB,KAA+D,IAA/D,GAAsEH,qBAAtE,GAA8F,EAA3G;AACA,SAAO,QAAQI,IAAR,CAAaF,IAAb,KAAsBG,MAAM,CAACH,IAAD,CAAN,IAAgB,CAAtC,GAA0CG,MAAM,CAACH,IAAD,CAAhD,GAAyDN,SAAhE;AACD;;AAED,SAASK,iBAAT,CAA2BP,OAA3B,EAAoC;AAClC,SAAO,CAAC,GAAGJ,cAAc,CAACgB,aAAnB,EAAkCZ,OAAlC,EAA2C,UAA3C,KAA0D,CAAC,GAAGJ,cAAc,CAACgB,aAAnB,EAAkCZ,OAAlC,EAA2C,OAA3C,KAAuDa,OAAO,CAACd,uBAAuB,CAACC,OAAO,CAACc,IAAT,CAAxB,CAA/H;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSpaceUntilMaxLength = getSpaceUntilMaxLength;\n\nvar _isElementType = require(\"../misc/isElementType\");\n\nvar _getValue = require(\"./getValue\");\n\nvar maxLengthSupportedTypes;\n\n(function (maxLengthSupportedTypes) {\n  maxLengthSupportedTypes[\"email\"] = \"email\";\n  maxLengthSupportedTypes[\"password\"] = \"password\";\n  maxLengthSupportedTypes[\"search\"] = \"search\";\n  maxLengthSupportedTypes[\"telephone\"] = \"telephone\";\n  maxLengthSupportedTypes[\"text\"] = \"text\";\n  maxLengthSupportedTypes[\"url\"] = \"url\";\n})(maxLengthSupportedTypes || (maxLengthSupportedTypes = {}));\n\nfunction getSpaceUntilMaxLength(element) {\n  const value = (0, _getValue.getValue)(element);\n  /* istanbul ignore if */\n\n  if (value === null) {\n    return undefined;\n  }\n\n  const maxLength = getSanitizedMaxLength(element);\n  return maxLength ? maxLength - value.length : undefined;\n} // can't use .maxLength property because of a jsdom bug:\n// https://github.com/jsdom/jsdom/issues/2927\n\n\nfunction getSanitizedMaxLength(element) {\n  var _element$getAttribute;\n\n  if (!supportsMaxLength(element)) {\n    return undefined;\n  }\n\n  const attr = (_element$getAttribute = element.getAttribute('maxlength')) != null ? _element$getAttribute : '';\n  return /^\\d+$/.test(attr) && Number(attr) >= 0 ? Number(attr) : undefined;\n}\n\nfunction supportsMaxLength(element) {\n  return (0, _isElementType.isElementType)(element, 'textarea') || (0, _isElementType.isElementType)(element, 'input') && Boolean(maxLengthSupportedTypes[element.type]);\n}"]},"metadata":{},"sourceType":"script"}